SUMMARY="A fast anagram generator for alphabetic languages"
DESCRIPTION="an is a fast anagram generator that uses the system's built-in \
word dictionary to form anagrams. an supports Unicode and theoretically should \
work for any alphabetic language."
HOMEPAGE="https://salsa.debian.org/pm/an"
COPYRIGHT="2012-2014 Paul Martin"
LICENSE="GNU GPL v2"
REVISION="1"
# cloning through git doesn't seem to work nor does downloading an archive
# from salsa.debian.org, so use the Debian archives instead
#SOURCE_URI="https://salsa.debian.org/pm/-/archive/master/an-master.tar.gz"
SOURCE_URI="http://deb.debian.org/debian/pool/main/a/an/an_$portVersion.orig.tar.gz"
SOURCE_DIR="an-$portVersion"
CHECKSUM_SHA256="b81a8db74cdfdf39e6ca7dd752cf4722435d2fb7fb3a1b971d4f4fae5142db2b"
#PATCHES=""

ARCHITECTURES="x86_64 ?x86_gcc2 ?x86"

PROVIDES="
	$portName = $portVersion
	cmd:an = $portVersion
	"

REQUIRES="
	haiku
	icu
	"

BUILD_REQUIRES="
	haiku_devel
	cmd:gcc
	cmd:install
	cmd:make
	cmd:sed
	icu_devel
	"

PATCH()
{
	sed -i "s|/usr/games|$binDir|" Makefile
	sed -i "s|/usr/share/man/man6|$manDir/man6|" Makefile
	
	sed -i\
	"s|/usr.*|/boot/system/data/spell_check/word_dictionary/words\"|"\
	an.h
}

BUILD()
{
	make
}

INSTALL()
{
	mkdir -p $binDir $manDir/man6
	sed -i "s|/usr.*|/boot/system/data/spell_check/word_dictionary/words|"\
	an.6
	
	make install
}
